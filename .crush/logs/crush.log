{"time":"2025-08-07T00:44:11.093822+06:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/config.loadProviders","file":"/home/runner/work/crush/crush/internal/config/provider.go","line":99},"msg":"Using cached provider data","path":"/Users/sayed/.local/share/crush/providers.json"}
{"time":"2025-08-07T00:44:11.095601+06:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/config.loadProviders.func1","file":"/home/runner/work/crush/crush/internal/config/provider.go","line":103},"msg":"Updating provider cache in background"}
{"time":"2025-08-07T00:44:11.633542+06:00","level":"INFO","msg":"OK   20250424200609_initial.sql (1.32ms)"}
{"time":"2025-08-07T00:44:11.633909+06:00","level":"INFO","msg":"OK   20250515105448_add_summary_message_id.sql (341.58µs)"}
{"time":"2025-08-07T00:44:11.634226+06:00","level":"INFO","msg":"OK   20250624000000_add_created_at_indexes.sql (304.13µs)"}
{"time":"2025-08-07T00:44:11.634513+06:00","level":"INFO","msg":"OK   20250627000000_add_provider_to_messages.sql (277.67µs)"}
{"time":"2025-08-07T00:44:11.634519+06:00","level":"INFO","msg":"goose: successfully migrated database to version: 20250627000000"}
{"time":"2025-08-07T00:44:11.634705+06:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/app.(*App).initLSPClients","file":"/home/runner/work/crush/crush/internal/app/lsp.go","line":18},"msg":"LSP clients initialization started in background"}
{"time":"2025-08-07T00:44:11.641651+06:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":172},"msg":"Initializing agent tools","agent":"task"}
{"time":"2025-08-07T00:44:11.641765+06:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1.1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":174},"msg":"Initialized agent tools","agent":"task"}
{"time":"2025-08-07T00:44:11.64837+06:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":172},"msg":"Initializing agent tools","agent":"coder"}
{"time":"2025-08-07T00:44:11.648393+06:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1.1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":174},"msg":"Initialized agent tools","agent":"coder"}
{"time":"2025-08-07T00:44:11.843856+06:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/config.saveProvidersInCache","file":"/home/runner/work/crush/crush/internal/config/provider.go","line":48},"msg":"Saving cached provider data","path":"/Users/sayed/.local/share/crush/providers.json"}
{"time":"2025-08-07T00:44:13.156717+06:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":172},"msg":"Initializing agent tools","agent":"task"}
{"time":"2025-08-07T00:44:13.156786+06:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1.1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":174},"msg":"Initialized agent tools","agent":"task"}
{"time":"2025-08-07T00:44:13.166231+06:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":172},"msg":"Initializing agent tools","agent":"coder"}
{"time":"2025-08-07T00:44:13.166294+06:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1.1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":174},"msg":"Initialized agent tools","agent":"coder"}
{"time":"2025-08-07T00:44:14.616441+06:00","level":"ERROR","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).Run.func1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":346},"msg":"failed to process events: POST \"https://openrouter.ai/api/v1/chat/completions\": 402 Payment Required {\"message\":\"This request requires more credits, or fewer max_tokens. You requested up to 13107 tokens, but can only afford 12359. To increase, visit https://openrouter.ai/settings/credits and upgrade to a paid account\",\"code\":402,\"metadata\":{\"provider_name\":null}}"}
{"time":"2025-08-07T00:46:11.264655+06:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).convertMessages","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":157},"msg":"There is a message without content, investigate, this should not happen"}
{"time":"2025-08-07T00:46:21.936648+06:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).processEvent","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":626},"msg":"Tool call started","toolCall":{"id":"chatcmpl-tool-d660e980d0d546a5be93559877dab4da","name":"view","input":"","type":"","finished":false}}
{"time":"2025-08-07T00:46:22.18516+06:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).processEvent","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":626},"msg":"Tool call started","toolCall":{"id":"chatcmpl-tool-c91ac97d9d594ea485f68d377f74a7d3","name":"grep","input":"","type":"","finished":false}}
{"time":"2025-08-07T00:46:22.461931+06:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).processEvent","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":626},"msg":"Tool call started","toolCall":{"id":"chatcmpl-tool-712d083224f342d382abb6bcea076f77","name":"view","input":"","type":"","finished":false}}
{"time":"2025-08-07T00:46:22.632559+06:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/tools.init.func1","file":"/home/runner/work/crush/crush/internal/llm/tools/rg.go","line":18},"msg":"Ripgrep (rg) not found in $PATH. Some grep features might be limited or slower."}
{"time":"2025-08-07T00:46:22.635067+06:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).convertMessages","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":157},"msg":"There is a message without content, investigate, this should not happen"}
{"time":"2025-08-07T00:46:30.814864+06:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).shouldRetry","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":512},"msg":"OpenAI API error","status_code":429,"message":"Rate limit exceeded: limit_rpm/qwen/qwen3-4b-04-28/2e98edb5-b21b-455b-afb4-d5c01aad515d. High demand for qwen/qwen3-4b:free on OpenRouter - limited to 1 requests per minute. Please retry shortly.","type":""}
{"time":"2025-08-07T00:46:30.815055+06:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":461},"msg":"Retrying due to rate limit","attempt":1,"max_retries":8}
{"time":"2025-08-07T00:46:38.493582+06:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).shouldRetry","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":512},"msg":"OpenAI API error","status_code":429,"message":"Rate limit exceeded: limit_rpm/qwen/qwen3-4b-04-28/2e98edb5-b21b-455b-afb4-d5c01aad515d. High demand for qwen/qwen3-4b:free on OpenRouter - limited to 1 requests per minute. Please retry shortly.","type":""}
{"time":"2025-08-07T00:46:38.49368+06:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":461},"msg":"Retrying due to rate limit","attempt":2,"max_retries":8}
{"time":"2025-08-07T00:46:49.758065+06:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).shouldRetry","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":512},"msg":"OpenAI API error","status_code":429,"message":"Rate limit exceeded: limit_rpm/qwen/qwen3-4b-04-28/2e98edb5-b21b-455b-afb4-d5c01aad515d. High demand for qwen/qwen3-4b:free on OpenRouter - limited to 1 requests per minute. Please retry shortly.","type":""}
{"time":"2025-08-07T00:46:49.758183+06:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":461},"msg":"Retrying due to rate limit","attempt":3,"max_retries":8}
{"time":"2025-08-07T00:47:08.506541+06:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).processEvent","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":626},"msg":"Tool call started","toolCall":{"id":"chatcmpl-tool-1875a5d86b0b4b0aa6e0dcd11db36742","name":"edit","input":"","type":"","finished":false}}
{"time":"2025-08-07T00:47:08.805093+06:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).processEvent","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":626},"msg":"Tool call started","toolCall":{"id":"chatcmpl-tool-89ef944c29d649c2b85ec7457ee62057","name":"edit","input":"","type":"","finished":false}}
{"time":"2025-08-07T00:47:21.961331+06:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).convertMessages","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":157},"msg":"There is a message without content, investigate, this should not happen"}
{"time":"2025-08-07T00:47:28.160854+06:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).shouldRetry","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":512},"msg":"OpenAI API error","status_code":429,"message":"Rate limit exceeded: limit_rpm/qwen/qwen3-4b-04-28/2e98edb5-b21b-455b-afb4-d5c01aad515d. High demand for qwen/qwen3-4b:free on OpenRouter - limited to 1 requests per minute. Please retry shortly.","type":""}
{"time":"2025-08-07T00:47:28.161073+06:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":461},"msg":"Retrying due to rate limit","attempt":1,"max_retries":8}
{"time":"2025-08-07T00:47:36.351654+06:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).shouldRetry","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":512},"msg":"OpenAI API error","status_code":429,"message":"Rate limit exceeded: limit_rpm/qwen/qwen3-4b-04-28/2e98edb5-b21b-455b-afb4-d5c01aad515d. High demand for qwen/qwen3-4b:free on OpenRouter - limited to 1 requests per minute. Please retry shortly.","type":""}
{"time":"2025-08-07T00:47:36.351764+06:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":461},"msg":"Retrying due to rate limit","attempt":2,"max_retries":8}
{"time":"2025-08-07T00:47:46.680989+06:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).shouldRetry","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":512},"msg":"OpenAI API error","status_code":429,"message":"Rate limit exceeded: limit_rpm/qwen/qwen3-4b-04-28/2e98edb5-b21b-455b-afb4-d5c01aad515d. High demand for qwen/qwen3-4b:free on OpenRouter - limited to 1 requests per minute. Please retry shortly.","type":""}
{"time":"2025-08-07T00:47:46.681154+06:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":461},"msg":"Retrying due to rate limit","attempt":3,"max_retries":8}
{"time":"2025-08-07T00:48:08.37211+06:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).processEvent","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":626},"msg":"Tool call started","toolCall":{"id":"chatcmpl-tool-195f51c35601442c953d927a2fb04e2f","name":"multiedit","input":"","type":"","finished":false}}
{"time":"2025-08-07T00:48:11.754168+06:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).convertMessages","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":157},"msg":"There is a message without content, investigate, this should not happen"}
{"time":"2025-08-07T00:48:17.41664+06:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).shouldRetry","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":512},"msg":"OpenAI API error","status_code":429,"message":"Rate limit exceeded: limit_rpm/qwen/qwen3-4b-04-28/2e98edb5-b21b-455b-afb4-d5c01aad515d. High demand for qwen/qwen3-4b:free on OpenRouter - limited to 1 requests per minute. Please retry shortly.","type":""}
{"time":"2025-08-07T00:48:17.416716+06:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":461},"msg":"Retrying due to rate limit","attempt":1,"max_retries":8}
{"time":"2025-08-07T00:48:25.711663+06:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).shouldRetry","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":512},"msg":"OpenAI API error","status_code":429,"message":"Rate limit exceeded: limit_rpm/qwen/qwen3-4b-04-28/2e98edb5-b21b-455b-afb4-d5c01aad515d. High demand for qwen/qwen3-4b:free on OpenRouter - limited to 1 requests per minute. Please retry shortly.","type":""}
{"time":"2025-08-07T00:48:25.711762+06:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":461},"msg":"Retrying due to rate limit","attempt":2,"max_retries":8}
{"time":"2025-08-07T00:48:36.358743+06:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).shouldRetry","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":512},"msg":"OpenAI API error","status_code":429,"message":"Rate limit exceeded: limit_rpm/qwen/qwen3-4b-04-28/2e98edb5-b21b-455b-afb4-d5c01aad515d. High demand for qwen/qwen3-4b:free on OpenRouter - limited to 1 requests per minute. Please retry shortly.","type":""}
{"time":"2025-08-07T00:48:36.358838+06:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":461},"msg":"Retrying due to rate limit","attempt":3,"max_retries":8}
{"time":"2025-08-07T00:48:39.663519+06:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).Cancel","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":240},"msg":"Request cancellation initiated","session_id":"1ce548c7-cf06-4646-9ef0-062edbb19036"}
